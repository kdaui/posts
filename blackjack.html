<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blackjack</title>
    <style>
        body { font-family: Arial, sans-serif; background: #000; color: #fff; text-align: center; }
        #game-board { max-width: 600px; margin: 20px auto; padding: 20px; border: 3px solid #fff; }
        h1, h2 { border-bottom: 2px solid #fff; padding-bottom: 10px; }
        #dealer-area, #player-area { margin: 20px 0; padding: 10px; border: 1px solid #fff; }
        button { margin: 5px; padding: 10px; background: #fff; color: #000; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background: #ccc; }
        button:disabled { cursor: not-allowed; opacity: 0.5; }
        #result-message { font-size: 1.2em; font-weight: bold; margin-top: 20px; }
    </style>
</head>
<body>
    <div id="game-board">
        <h1>Blackjack</h1>
        <div id="dealer-area">
            <h2>Dealer's Hand</h2>
            <div id="dealer-cards"></div>
            <p id="dealer-score">Score: 0</p>
        </div>
        <div id="player-area">
            <h2>Your Hand</h2>
            <div id="player-cards"></div>
            <p id="player-score">Score: 0</p>
        </div>
        <div id="controls">
            <button id="hit-button">Hit</button>
            <button id="stand-button">Stand</button>
            <button id="restart-button">New Game</button>
        </div>
        <p id="result-message"></p>
    </div>
    <script>
        const dom = {
            dealerCards: document.getElementById('dealer-cards'),
            playerCards: document.getElementById('player-cards'),
            dealerScore: document.getElementById('dealer-score'),
            playerScore: document.getElementById('player-score'),
            resultMsg: document.getElementById('result-message'),
            hitBtn: document.getElementById('hit-button'),
            standBtn: document.getElementById('stand-button')
        };

        let deck, playerHand, dealerHand, gameOver;

        function createDeck() {
            const suits = ['â™ ', 'â™¥', 'â™¦', 'â™£'];
            const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
            deck = [];
            for (let s of suits) for (let v of values) deck.push({ v, s });
            return deck.sort(() => Math.random() - 0.5);
        }

        function calculateScore(hand) {
            let score = 0, aces = 0;
            for (let card of hand) {
                if (card.v === 'A') { score += 11; aces++; }
                else if (['J', 'Q', 'K'].includes(card.v)) score += 10;
                else score += parseInt(card.v);
            }
            while (score > 21 && aces > 0) { score -= 10; aces--; }
            return score;
        }

        function updateUI(isFinal = false) {
            const pScore = calculateScore(playerHand);
            dom.playerCards.textContent = playerHand.map(c => `${c.v}${c.s}`).join(' ');
            dom.playerScore.textContent = `Score: ${pScore}`;

            if (isFinal) {
                const dScore = calculateScore(dealerHand);
                dom.dealerCards.textContent = dealerHand.map(c => `${c.v}${c.s}`).join(' ');
                dom.dealerScore.textContent = `Score: ${dScore}`;
            } else {
                dom.dealerCards.textContent = `${dealerHand[0].v}${dealerHand[0].s} ðŸ‚ `;
                dom.dealerScore.textContent = `Score: ${calculateScore([dealerHand[0]])}`;
            }
        }

        function determineWinner() {
            const pScore = calculateScore(playerHand);
            const dScore = calculateScore(dealerHand);
            if (pScore > 21) dom.resultMsg.textContent = 'You Bust! Dealer Wins.';
            else if (dScore > 21) dom.resultMsg.textContent = 'Dealer Busts! You Win!';
            else if (pScore > dScore) dom.resultMsg.textContent = 'You Win!';
            else if (dScore > pScore) dom.resultMsg.textContent = 'Dealer Wins.';
            else dom.resultMsg.textContent = 'Push! It\'s a Tie.';
        }

        function endGame() {
            gameOver = true;
            dom.hitBtn.disabled = true;
            dom.standBtn.disabled = true;
            updateUI(true);
            determineWinner();
        }

        function hit() {
            if (gameOver) return;
            playerHand.push(deck.pop());
            if (calculateScore(playerHand) > 21) {
                endGame();
            } else {
                updateUI();
            }
        }

        function stand() {
            if (gameOver) return;
            while (calculateScore(dealerHand) < 17) {
                dealerHand.push(deck.pop());
            }
            endGame();
        }

        function startGame() {
            deck = createDeck();
            playerHand = [deck.pop(), deck.pop()];
            dealerHand = [deck.pop(), deck.pop()];
            gameOver = false;
            dom.resultMsg.textContent = '';
            dom.hitBtn.disabled = false;
            dom.standBtn.disabled = false;
            updateUI();
        }

        document.getElementById('restart-button').addEventListener('click', startGame);
        dom.hitBtn.addEventListener('click', hit);
        dom.standBtn.addEventListener('click', stand);

        window.onload = startGame;
    </script>
</body>
</html>
